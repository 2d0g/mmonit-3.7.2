if((typeof TableView==="undefined")||(!TableView)){var TableView={}}ko.bindingHandlers.slideVisible={init:function(a,b){$(a).hide()},update:function(a,b,g){var d=b(),c=g();var f=ko.unwrap(d);var e=c.slideDuration||350;if(f==true){$(a).slideDown(e);if(c.focuson){$(a).find(c.focuson).focus()}}else{$(a).slideUp(e)}}};ko.bindingHandlers.popover={init:function(d,e,f,c){var b=e();var a={placement:"right",trigger:"click"};b=$.extend(true,{},a,b);$(d).popover(b)}};ko.bindingHandlers.blurOnEnter={init:function(b,c,e,a){var d=ko.unwrap(c());if(d){$(b).keydown(function(f){if(f.which==13){$(f.target).blur()}})}}};ko.bindingHandlers.tableViewListPush={init:function(b,c,d,a){$(b).click(function(){var f=c(),g=d();var e=g.controller;e.push(f)})}};function TableViewListController(){var a=this;a.scd=null;a.viewStack=[];a.init=function(c){var d=$(c).find(".tableViewTop");var b=$(c).find(".tableViewScroller");a.viewStack.push(d);a.scd={h:parseInt(b.css("max-height")),w:parseInt(b.width())}};a.push=function(f,e){e.stopPropagation();var i=a.viewStack[a.viewStack.length-1];var c=$(e.currentTarget).children(".tableViewSubView");if(!i.is(c)&&!$(e.currentTarget).hasClass("disabled")){a.viewStack.push(c);i.removeClass("current");c.addClass("current");var d=$(e.currentTarget).parents(".callout");var b=$(e.currentTarget).parents(".tableViewScroller");var g=c.height();c.show();b.animate({height:g+"px"});i.css("position","absolute");var h=i.offset().top-c.offset().top;if(h<0){c.css("top",h+"px")}i.animate({left:"-"+b.width()},350);b.css("width",!ISPHONE&&a.scd.h<g?(a.scd.w+18)+"px":a.scd.w+"px")}};a.pop=function(g,f){f.stopPropagation();if(a.viewStack.length>1){var e=$(f.currentTarget).parents(".callout");var b=$(f.currentTarget).parents(".tableViewScroller");var h=a.viewStack.pop();var c=a.viewStack[a.viewStack.length-1];h.removeClass("current");c.addClass("current");var d=(!ISPHONE&&a.scd.h<c.height())?(a.scd.w+18):(a.scd.w);c.animate({left:"0"},350);h.animate({left:d+"px"},350,function(){h.hide()});b.animate({height:c.height()+"px"});b.css("width",d+"px");return h}}}TableView.callout=function(){return{toggle:function(i,a){a.stopPropagation();var j=$(a.currentTarget);var g=j.parent().children(".callout");var m=g.find(".tableViewScroller");var p=g.find(".current");var l=g.is(":visible");$(".popup").hide();if(l){return}var o=j.position();var n=j.height();g.css({top:(o.top+n+34+1+1)+"px",position:"absolute"});g.show();var b=j.outerWidth(true);var f=p.height();var k=p.width();var c=parseInt(m.css("max-height"));var h=f<c?f:c;var e=k;if(!ISPHONE&&c<=f){e+=18;g.addClass("calloutWithScrollbar")}else{g.removeClass("calloutWithScrollbar")}var d=o.left+b/2-e/2-7-1;g.css({left:d>=0?d:0});m.css({height:h+"px",width:e+"px"})}}}();