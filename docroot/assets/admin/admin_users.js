"use strict";(function(b){var a=function(){var c=this;c.users=ko.observableArray();c.query=ko.observable("");c.edit=function(e){var d=encodeURIComponent(e.uname);window.location="../../admin/users/edit?uname="+d};c.accounts=ko.computed(function(){var d=c.query().toLowerCase();if(!d){return c.users()}return ko.utils.arrayFilter(c.users(),function(e){return e.fullname.toLowerCase().indexOf(d)>=0})});b.getJSON("../../admin/users/list",function(d){b.map(d,function(e,f){e.image=(e.image)?"../../uploads/"+e.image:"../../img/avatar.png";e.imuri=null;if((/Skype/i).test(e.imtype)){e.imuri="skype:"+e.imname+"?call"}if((/iMessage/i).test(e.imtype)){e.imuri="imessage:"+e.imname}if((/GTalk/i).test(e.imtype)){e.imuri="gtalk:chat?jid="+e.imname}});c.users(d)}).error(MMONIT.error.json)};ko.applyBindings(new a())})(jQuery);