(function(c){var b=new function(){var d=this;d.width=ko.observable(c("#main").outerWidth());d.isPhone=ko.computed(function(){return d.width()<768});d.menucharts=ko.observableArray();d.menurange=ko.observableArray();d.menuhosts=ko.observableArray();d.menuhostgroups=ko.observableArray();d.hostViewController=new TableViewListController();d.hostViewController.init(c(".host.tableViewMenu"));d.selectChart=function(g,f){f.stopPropagation();g.selected(!g.selected())};d.selectHost=function(g,f){f.stopPropagation();Menu.unselectAll(d.menuhostgroups());g.selected(!g.selected())};d.selectHostGroup=function(g,f){f.stopPropagation();Menu.unselectAll(d.menuhosts());g.selected(!g.selected())};d.selectRange=function(g,f){f.stopPropagation();Menu.select(d.menurange(),g.id)};d.selectAllHosts=function(f,g){g.stopPropagation();Menu.unselectAll(d.menuhostgroups());Menu.toggleSelection(d.menuhosts(),f,g)};d.selectAllHostGroups=function(f,g){g.stopPropagation();Menu.unselectAll(d.menuhosts());Menu.toggleSelection(d.menuhostgroups(),f,g)};d.menucharts2label=function(){return Menu.getSelectedNames(d.menucharts(),"all charts")};d.menuhosts2label=function(f){var e="all hosts";if(Menu.countSelected(f.menuhosts())){return"host "+Menu.getSelectedNames(f.menuhosts(),e)}else{if(Menu.countSelected(f.menuhostgroups())){return"hostgroup "+Menu.getSelectedNames(f.menuhostgroups(),e)}else{return e}}};d.menurange2label=function(e){return Menu.getSelectedNames(e.menurange(),"hour")};d.hostQueryTimeout=null;d.hostQuery=ko.observable("");d.hostQuery.subscribe(function(e){clearTimeout(d.hostQueryTimeout);d.hostQueryTimeout=setTimeout(function(){Menu.search(d.menuhosts(),e)},300)});d.start=function(){d.filter={range:Menu.getSelectedValues(d.menurange(),"id")[0],hostid:Menu.getSelectedValues(d.menuhosts(),"id"),hostgroupid:Menu.getSelectedValues(d.menuhostgroups(),"id"),statisticstype:Menu.getSelectedValues(d.menucharts(),"id")};d.hideCharts();d.loadCharts()};d.stop=function(){d.hideCharts();Menu.unselectAll(d.menucharts());Menu.unselectAll(d.menuhosts());Menu.unselectAll(d.menuhostgroups());Menu.unselectAll(d.menurange());Menu.activateAll(d.menuhosts());d.hostQuery("");d.menurange()[1].selected(true)};c.getJSON("../../map/id",function(f){d.menucharts(Menu.JSONToMenu([{name:"cpu %",id:["1","2","3"]},{name:"memory %",id:"4"},{name:"swap %",id:"6"},{name:"load average",id:"0"},{name:"process cpu %",id:"9"},{name:"process memory",id:"13"},{name:"process threads",id:"52"},{name:"process children",id:"14"},{name:"process disk read [bytes]",id:"67"},{name:"process disk read [ops]",id:"69"},{name:"process disk write [bytes]",id:"71"},{name:"process disk write [ops]",id:"73"},{name:"port response time",id:["15","16"]},{name:"ping response time",id:"17"},{name:"space %",id:"18"},{name:"inode %",id:"21"},{name:"filesystem read [bytes]",id:"54"},{name:"filesystem read [ops]",id:"56"},{name:"filesystem write [bytes]",id:"58"},{name:"filesystem write [ops]",id:"60"},{name:"filesystem service time",id:"66"},{name:"network incoming [bytes]",id:"39"},{name:"network outgoing [bytes]",id:"45"},{name:"network incoming [packets]",id:"41"},{name:"network outgoing [packets]",id:"47"}]));d.menuhosts(Menu.JSONMapToMenu(f.map.id.host).sort(Menu.sortByName));d.menuhostgroups(Menu.JSONMapToMenu(f.map.id.hostgroup).sort(Menu.sortByName));d.menurange(Menu.JSONToMenu([{name:"seconds",id:"1"},{name:"hour",id:"3"},{name:"day",id:"4"},{name:"week",id:"5"},{name:"month",id:"6"},{name:"3 months",id:"7"},{name:"6 months",id:"8"},{name:"year",id:"9"},{name:"3 years",id:"10"}]));d.menurange()[1].selected(true);var e={chart:c(document).getUrlParam("chart"),host:c(document).getUrlParam("host"),range:c(document).getUrlParam("range"),start:c(document).getUrlParam("start")};if(e.chart){Menu.select(d.menucharts(),e.chart)}if(e.host){Menu.select(d.menuhosts(),e.host)}if(e.range&&typeof e.range=="string"){Menu.select(d.menurange(),e.range)}if(e.start=="1"){d.start()}});d.info=ko.observable("");d.filter=null;d.hosts=[];d.date={from:0,to:0,step:0};d.cpu={title:"CPU usage",canvasid:"systemcpucanvas",legendid:"systemcpulegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.cpu.data,suffix:"%",round:2,date:(d.filter.range=="1"&&d.hosts.length>1)?false:true,horizontal:(d.filter.range=="1"&&d.hosts.length>1)?true:false}},graph:function(){if(d.filter.range=="1"){if(d.hosts.length==1){return{series:{pie:{show:true,stroke:{width:0},highlight:{opacity:0},radius:1,label:{show:true,radius:d.cpu.slices>1?0.6:0,threshold:0.05,formatter:function(e,f){return'<div style="font-size:10pt;text-align:center;color:white;">'+e+"<br/>"+Math.round(f.percent)+"%</div>"}}}},grid:{hoverable:true,autoHighlight:false},colors:(d.cpu.data.length==4?["#F1C40F","#F39C12","#E74C3C","#2ECC71"]:["#F1C40F","#F39C12","#2ECC71"]),legend:{show:false,span:3,container:c("#systemcpulegend"),labelFormatter:function(f,g){var e=f.split(" ");return e[e.length-2]}},height:function(){return 250}}}else{return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.percentTickFormatter,ticks:4,max:d.cpu.magnify?null:100,autoscaleMax:100},yaxis:{show:!d.isPhone(),tickSize:1,tickLength:0,tickDecimals:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#systemcpulegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.cpu.data)*20+30},magnify:true}}}else{if(d.hosts.length==1){return{series:{stack:true,lines:{show:true,fill:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.percentTickFormatter,max:d.cpu.magnify?null:100,autoscaleMax:100,labelWidth:d.isPhone()?30:50},legend:{show:false,span:(d.hosts.length==1?2:3),container:c("#systemcpulegend"),labelFormatter:function(f,g){var e=f.split(" ");return g.trend?(e[e.length-3]+" trend"):e[e.length-2]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:(d.cpu.data.length==2?["#99d0ff","#1383df"]:["#cce7ff","#99d0ff","#1383df"]),height:function(){return 150},magnify:true}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.percentTickFormatter,max:d.cpu.magnify?null:100,autoscaleMax:100,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#systemcpulegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150},magnify:true}}}}}};d.memory={title:"Memory usage",canvasid:"systemmemorycanvas",legendid:"systemmemorylegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.memory.data,suffix:"%",round:2,date:(d.filter.range=="1"&&d.hosts.length>1)?false:true,horizontal:(d.filter.range=="1"&&d.hosts.length>1)?true:false}},graph:function(){if(d.filter.range=="1"){if(d.hosts.length==1){return{series:{pie:{show:true,stroke:{width:0},highlight:{opacity:0},radius:1,label:{show:true,radius:d.memory.slices>1?0.6:0,threshold:0.05,formatter:function(e,f){return'<div style="font-size:10pt;text-align:center;color:white;">'+e+"<br/>"+Math.round(f.percent)+"%</div>"}}}},grid:{hoverable:true,autoHighlight:false},colors:["#2980B9","#2ECC71"],legend:{show:false,toggle:true,span:3,container:c("#systemmemorylegend"),labelFormatter:function(f,g){var e=f.split(" ");return e[2]}},height:function(){return 250}}}else{return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.percentTickFormatter,ticks:4,max:d.memory.magnify?null:100,autoscaleMax:100},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:3,container:c("#systemmemorylegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.memory.data)*20+30},magnify:true}}}else{if(d.hosts.length==1){return{series:{lines:{show:true,fill:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.percentTickFormatter,max:d.memory.magnify?null:100,autoscaleMax:100,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:2,container:c("#systemmemorylegend"),labelFormatter:function(e,f){return"memory"+(f.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#cce7ff","#99d0ff","#1383df"],height:function(){return 150},magnify:true}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.percentTickFormatter,max:d.memory.magnify?null:100,autoscaleMax:100,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:3,container:c("#systemmemorylegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150},magnify:true}}}}}};d.swap={title:"Swap usage",canvasid:"systemswapcanvas",legendid:"systemswaplegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.swap.data,suffix:"%",round:2,date:(d.filter.range=="1"&&d.hosts.length>1)?false:true,horizontal:(d.filter.range=="1"&&d.hosts.length>1)?true:false}},graph:function(){if(d.filter.range=="1"){if(d.hosts.length==1){return{series:{pie:{show:true,stroke:{width:0},highlight:{opacity:0},radius:1,label:{show:true,radius:d.swap.slices>1?0.6:0,threshold:0.05,formatter:function(e,f){return'<div style="font-size:10pt;text-align:center;color:white;">'+e+"<br/>"+Math.round(f.percent)+"%</div>"}}}},grid:{hoverable:true,autoHighlight:false},colors:["#2980B9","#2ECC71"],legend:{show:false,toggle:true,span:3,container:c("#systemswaplegend"),labelFormatter:function(f,g){var e=f.split(" ");return e[2]}},height:function(){return 250}}}else{return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.percentTickFormatter,ticks:4,max:d.swap.magnify?null:100,autoscaleMax:100},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:3,container:c("#systemswaplegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.swap.data)*20+30},magnify:true}}}else{if(d.hosts.length==1){return{series:{lines:{show:true,fill:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.percentTickFormatter,max:d.swap.magnify?null:100,autoscaleMax:100,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:2,container:c("#systemswaplegend"),labelFormatter:function(e,f){return"swap"+(f.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#cce7ff","#99d0ff","#1383df"],height:function(){return 150},magnify:true}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.percentTickFormatter,max:d.swap.magnify?null:100,autoscaleMax:100,labelWidth:d.isPhone()?30:50},legend:{show:false,span:3,container:c("#systemswaplegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150},magnify:true}}}}}};d.loadaverage={title:"Load average",canvasid:"systemloadcanvas",legendid:"systemloadlegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.loadaverage.data,round:2,date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#systemloadlegend"),labelFormatter:function(f,g){var e=f.split(":");if(d.hosts.length==1){return e[1]}else{return e[0]}}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:false,mouseActiveRadius:5},height:function(){return d.countEnabled(d.loadaverage.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:(d.hosts.length==1?false:true),span:(d.hosts.length==1?2:3),container:c("#systemloadlegend"),labelFormatter:function(f,g){var e=f.split(":");if(d.hosts.length==1){return"load average"+(g.trend?" trend":"")}else{return e[0]+(g.trend?" trend":"")}}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.space={title:"Space usage [%]",canvasid:"filesystemspacecanvas",legendid:"filesystemspacelegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.space.data,suffix:"%",round:2,date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.percentTickFormatter,ticks:4,max:d.space.magnify?null:100,autoscaleMax:100},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemspacelegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.space.data)*20+30},magnify:true}}else{return{series:{lines:{show:true,fill:false},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.percentTickFormatter,max:d.space.magnify?null:100,autoscaleMax:100,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemspacelegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150},magnify:true}}}}};d.inode={title:"Inode usage [%]",canvasid:"filesysteminodecanvas",legendid:"filesysteminodelegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.inode.data,suffix:"%",round:2,date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.percentTickFormatter,ticks:4,max:d.inode.magnify?null:100,autoscaleMax:100},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesysteminodelegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.inode.data)*20+30},magnify:true}}else{return{series:{lines:{show:true,fill:false},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.percentTickFormatter,max:d.inode.magnify?null:100,autoscaleMax:100,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesysteminodelegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150},magnify:true}}}}};d.filesystemreadbytes={title:"Filesystem: read [bytes/s]",canvasid:"filesystemreadbytescanvas",legendid:"filesystemreadbyteslegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.filesystemreadbytes.data,suffix:"/s",formatter:function(e){return MMONIT.ui.hfbyte(e,1,1024)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.bytesTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemreadbyteslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.filesystemreadbytes.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.bytesTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemreadbyteslegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.filesystemreadoperations={title:"Filesystem: read [operations/s]",canvasid:"filesystemreadoperationscanvas",legendid:"filesystemreadoperationslegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.filesystemreadoperations.data,suffix:" r/s",round:1,date:(d.filter.range=="1"&&d.hosts.length>1)?false:true,horizontal:(d.filter.range=="1"&&d.hosts.length>1)?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,ticks:4,tickFormatter:d.readOperationsTickFormatter},yaxis:{show:!d.isPhone(),tickSize:1,tickLength:0,tickDecimals:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemreadoperationslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.filesystemreadoperations.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,labelWidth:d.isPhone()?30:50,tickFormatter:d.readOperationsTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemreadoperationslegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.filesystemwritebytes={title:"Filesystem: write [bytes/s]",canvasid:"filesystemwritebytescanvas",legendid:"filesystemwritebyteslegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.filesystemwritebytes.data,suffix:"/s",formatter:function(e){return MMONIT.ui.hfbyte(e,1,1024)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.bytesTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemwritebyteslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.filesystemwritebytes.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.bytesTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemwritebyteslegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.filesystemwriteoperations={title:"Filesystem: write [operations/s]",canvasid:"filesystemwriteoperationscanvas",legendid:"filesystemwriteoperationslegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.filesystemwriteoperations.data,suffix:" w/s",round:1,date:(d.filter.range=="1"&&d.hosts.length>1)?false:true,horizontal:(d.filter.range=="1"&&d.hosts.length>1)?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,ticks:4,tickFormatter:d.writeOperationsTickFormatter},yaxis:{show:!d.isPhone(),tickSize:1,tickLength:0,tickDecimals:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemwriteoperationslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.filesystemwriteoperations.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,labelWidth:d.isPhone()?30:50,tickFormatter:d.writeOperationsTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#filesystemwriteoperationslegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.filesystemservicetime={title:"Filesystem: service time [ms/operation]",canvasid:"filesystemservicetimecanvas",legendid:"filesystemservicetimelegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.filesystemservicetime.data,suffix:"/operation",formatter:function(e){return MMONIT.ui.hftime(e,3)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.servicetimeTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:3,container:c("#filesystemservicetimelegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:false,mouseActiveRadius:5},height:function(){return d.countEnabled(d.filesystemservicetime.data)*20+30}}}else{return{series:{lines:{show:true,fill:false},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.servicetimeTickFormatter,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:3,container:c("#filesystemservicetimelegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.ping={title:"Ping response time [ms]",canvasid:"responsepingcanvas",legendid:"responsepinglegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.ping.data,formatter:function(e){return MMONIT.ui.hftime(e*1000,3)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.responsetimeTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:3,container:c("#responsepinglegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:false,mouseActiveRadius:5},height:function(){return d.countEnabled(d.ping.data)*20+30}}}else{return{series:{lines:{show:true,fill:false},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.responsetimeTickFormatter,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:3,container:c("#responsepinglegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.port={title:"Port response time [ms]",canvasid:"responseportcanvas",legendid:"responseportlegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.port.data,formatter:function(e){return MMONIT.ui.hftime(e*1000,3)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.responsetimeTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:function(g){var k=[];for(var f=g.data.length-1,e=0;f>=0;f--){var h=g.data[f];if(h.enabled==null||h.enabled){k.push([e++,h.label])}}return k}},legend:{show:false,toggle:true,span:6,container:c("#responseportlegend")},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:false,mouseActiveRadius:5},height:function(){return d.countEnabled(d.port.data)*20+30}}}else{return{series:{lines:{show:true,fill:false},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.responsetimeTickFormatter,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:6,container:c("#responseportlegend")},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.cpuproctotal={title:(d.isPhone()?"Process CPU":"Process CPU usage total")+" [%]",canvasid:"cpuproctotalcanvas",legendid:"cpuproctotallegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.cpuproctotal.data,suffix:"%",round:2,date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.percentTickFormatter,ticks:4,max:d.cpuproctotal.magnify?null:100,autoscaleMax:100},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#cpuproctotallegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.cpuproctotal.data)*20+30},magnify:true}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.percentTickFormatter,max:d.cpuproctotal.magnify?null:100,autoscaleMax:100,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#cpuproctotallegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#cce7ff","#99d0ff","#1383df"],height:function(){return 150},magnify:true}}}}};d.memoryproctotal={title:(d.isPhone()?"Process memory":"Process memory usage total")+" [bytes]",canvasid:"memoryproctotalcanvas",legendid:"memoryproctotallegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.memoryproctotal.data,formatter:function(e){return MMONIT.ui.hfbyte(e*1024,2,1024)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.memoryTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#memoryproctotallegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:false,mouseActiveRadius:5},height:function(){return d.countEnabled(d.memoryproctotal.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.memoryTickFormatter,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:3,container:c("#memoryproctotallegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#cce7ff","#99d0ff","#1383df"],height:function(){return 150}}}}}};d.processreadbytes={title:"Process: disk read [bytes/s]",canvasid:"processreadbytescanvas",legendid:"processreadbyteslegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.processreadbytes.data,suffix:"/s",formatter:function(e){return MMONIT.ui.hfbyte(e,1,1024)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.bytesTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#processreadbyteslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.processreadbytes.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.bytesTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#processreadbyteslegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.processreadoperations={title:"Process: disk read [operations/s]",canvasid:"processreadoperationscanvas",legendid:"processreadoperationslegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.processreadoperations.data,suffix:" r/s",round:2,date:(d.filter.range=="1"&&d.hosts.length>1)?false:true,horizontal:(d.filter.range=="1"&&d.hosts.length>1)?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,ticks:4,tickFormatter:d.readOperationsTickFormatter},yaxis:{show:!d.isPhone(),tickSize:1,tickLength:0,tickDecimals:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#processreadoperationslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.processreadoperations.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,labelWidth:d.isPhone()?30:50,tickFormatter:d.readOperationsTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#processreadoperationslegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.processwritebytes={title:"Process: disk write [bytes/s]",canvasid:"processwritebytescanvas",legendid:"processwritebyteslegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.processwritebytes.data,suffix:"/s",formatter:function(e){return MMONIT.ui.hfbyte(e,1,1024)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.bytesTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#processwritebyteslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.processwritebytes.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.bytesTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#processwritebyteslegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.processwriteoperations={title:"Process: disk write [operations/s]",canvasid:"processwriteoperationscanvas",legendid:"processwriteoperationslegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.processwriteoperations.data,suffix:" w/s",round:2,date:(d.filter.range=="1"&&d.hosts.length>1)?false:true,horizontal:(d.filter.range=="1"&&d.hosts.length>1)?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,ticks:4,tickFormatter:d.writeOperationsTickFormatter},yaxis:{show:!d.isPhone(),tickSize:1,tickLength:0,tickDecimals:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#processwriteoperationslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.processwriteoperations.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,labelWidth:d.isPhone()?30:50,tickFormatter:d.writeOperationsTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#processwriteoperationslegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.threads={title:d.isPhone()?"Process threads":"Process threads count",canvasid:"threadsrencanvas",legendid:"threadsrenlegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.threads.data,round:0,date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#threadslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:false,mouseActiveRadius:5},height:function(){return d.countEnabled(d.threads.data)*20+30}}}else{return{series:{lines:{show:true,fill:false},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#threadslegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.children={title:d.isPhone()?"Process children":"Process children count",canvasid:"childrencanvas",legendid:"childrenlegend",show:ko.observable(0),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.children.data,round:0,date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#childrenlegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:false,mouseActiveRadius:5},height:function(){return d.countEnabled(d.children.data)*20+30}}}else{return{series:{lines:{show:true,fill:false},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#childrenlegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]+(g.trend?" trend":"")}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.netbytesin={title:"Network: incoming [bytes/s]",canvasid:"netbytesincanvas",legendid:"netbytesinlegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.netbytesin.data,formatter:function(e){return MMONIT.ui.hfbyte(e,1,1024)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.bytesTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#netbytesinlegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.netbytesin.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.bytesTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#netbytesinlegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.netbytesout={title:"Network: outgoing [bytes/s]",canvasid:"netbytesoutcanvas",legendid:"netbytesoutlegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.netbytesout.data,formatter:function(e){return MMONIT.ui.hfbyte(e,1,1024)},date:d.filter.range=="1"?false:true,horizontal:d.filter.range=="1"?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,tickFormatter:d.bytesTickFormatter,ticks:4},yaxis:{show:!d.isPhone(),tickLength:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#netbytesoutlegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.netbytesout.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,tickFormatter:d.bytesTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#netbytesoutlegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.netpacketsin={title:"Network: incoming [packets/s]",canvasid:"netpacketsincanvas",legendid:"netpacketsinlegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.netpacketsin.data,round:0,date:(d.filter.range=="1"&&d.hosts.length>1)?false:true,horizontal:(d.filter.range=="1"&&d.hosts.length>1)?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,ticks:4},yaxis:{show:!d.isPhone(),tickSize:1,tickLength:0,tickDecimals:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#netpacketsinlegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.netpacketsin.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#netpacketsinlegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.netpacketsout={title:"Network: outgoing [packets/s]",canvasid:"netpacketsoutcanvas",legendid:"netpacketsoutlegend",show:ko.observable(false),showTrend:ko.observable(false),showLegend:ko.observable(false),showSearchButton:ko.observable(false),showTrendButton:ko.observable(false),showLegendButton:ko.observable(false),data:[],plot:null,config:{tooltip:function(){return{data:d.netpacketsout.data,round:0,date:(d.filter.range=="1"&&d.hosts.length>1)?false:true,horizontal:(d.filter.range=="1"&&d.hosts.length>1)?true:false}},graph:function(){if(d.filter.range=="1"){return{series:{lines:{show:false},bars:{show:true,horizontal:true,fill:true,lineWidth:0,align:"center",fillColor:{colors:[{opacity:1},{opacity:1}]}},points:{show:false}},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],xaxis:{min:0,ticks:4},yaxis:{show:!d.isPhone(),tickSize:1,tickLength:0,tickDecimals:0,labelWidth:200,tickFormatter:d.barTickFormatter},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#netpacketsoutlegend"),labelFormatter:function(f,g){var e=f.split(":");return e[0]}},grid:{borderWidth:0,autoHighlight:false,hoverable:true,clickable:true,mouseActiveRadius:5},height:function(){return d.countEnabled(d.netpacketsout.data)*20+30}}}else{return{series:{lines:{show:true},points:{show:false}},xaxis:{tickLength:0,ticks:d.tickCount(),min:d.date.from,max:d.date.to,step:d.date.step,tickFormatter:d.timeTickFormatter},yaxis:{min:0,labelWidth:d.isPhone()?30:50},legend:{show:false,toggle:true,span:(d.hosts.length==1?2:3),container:c("#netpacketsoutlegend"),labelFormatter:function(f,g){var e=f.split(":");return g.trend?(e[0]+" trend"):e[0]}},grid:{borderWidth:0,autoHighlight:true,hoverable:true,clickable:true},colors:["#1383df","#cceeff","#115588","#ccddee","#556677","#e6e9ed","#005ca8","#cce7ff","#3d454c","#99d0ff","#aaccdd","#a5d6ff"],height:function(){return 150}}}}}};d.charts=ko.observableArray([d.cpu,d.memory,d.swap,d.loadaverage,d.space,d.inode,d.filesystemreadbytes,d.filesystemreadoperations,d.filesystemwritebytes,d.filesystemwriteoperations,d.filesystemservicetime,d.ping,d.port,d.cpuproctotal,d.memoryproctotal,d.processreadbytes,d.processreadoperations,d.processwritebytes,d.processwriteoperations,d.threads,d.children,d.netbytesin,d.netbytesout,d.netpacketsin,d.netpacketsout]);d.tickCount=function(){return d.isPhone()?(parseInt(d.filter.range)>5?2:4):8};d.timeTickFormatter=function(g,f){var e=new Date(g);var h=f.max-f.min;if(h<=86400000){return strftime("%H:%M",e)}else{if(h<=604800000){return strftime("%b %d",e)}else{return strftime("%b %d %Y",e)}}};d.memoryTickFormatter=function(f,e){return MMONIT.ui.hfbyte(f*1024,0,1024)};d.bytesTickFormatter=function(f,e){return MMONIT.ui.hfbyte(f,1,1024)+"/s"};d.readOperationsTickFormatter=function(f,e){return f+" r/s"};d.writeOperationsTickFormatter=function(f,e){return f+" w/s"};d.responsetimeTickFormatter=function(f,e){return MMONIT.ui.hftime(f*1000,3)};d.servicetimeTickFormatter=function(f,e){return MMONIT.ui.hftime(f,3)};d.percentTickFormatter=function(f,e){return f+"%"};d.barTickFormatter=function(h){var m=[];for(var g=h.data.length-1,f=0;g>=0;g--){var k=h.data[g];if(k.enabled==null||k.enabled){var e=k.label.split(":");m.push([f++,e[0]])}}return m};d.hasData=function(h){for(var f=0;f<h.length;f++){var g=h[f];for(var e=0;e<g.data.length;e++){if(g.data[e][1]>=0){return true}}}return false};d.countEnabled=function(g){var f=0;for(var e=0;e<g.length;e++){if(g[e].enabled==null||g[e].enabled){f++}}return f};d.transform=function(h,f){if(!h.transformed){h.transformed=true;if(!f.series.pie||!f.series.pie.show){for(var g=0;g<h.data.length;g++){var l=h.data[g];l.min=null;l.max=null;l.avg=0;l.samples=0;l.enabled=true;for(var e=0;e<l.data.length;e++){var k=l.data[e][1];if(k!==null){l.samples++;if(l.min===null||k<l.min){l.min=k}if(l.max===null||k>l.max){l.max=k}l.avg+=k}if(f.series.bars&&f.series.bars.horizontal){l.data[e][0]=k;l.data[e][1]=e}}if(l.data.length){l.avg/=l.samples}}h.data.sort(function(j,i){return i.avg-j.avg})}}};d.updateAxes=function(h,f){if(f.series.bars&&f.series.bars.horizontal){for(var g=0,e=d.countEnabled(h.data)-1;g<h.data.length;g++){var k=h.data[g];k.data[0][1]=k.enabled?e--:0}if(f.yaxis&&f.yaxis.tickFormatter){f.yaxis.ticks=f.yaxis.tickFormatter(h)}}};d.reset=function(e){e.data=[];e.plot=null;e.transformed=false;e.show(false);e.showTrend(false);e.showLegend(false);e.showSearchButton(false);e.showTrendButton(false);e.showLegendButton(false)};d.legendEvents=function(e){c("#"+e.legendid).find(".legendColorBox").on("vclick",function(g){var f=c(this).parents(".legend").find(".legendColorBox").index(this);if(f>=0){e.data[f].enabled=e.data[f].enabled!=null?!e.data[f].enabled:false;d.showChart(e);d.showLegend(e)}});c("#"+e.legendid).find(".legendColorBox").hover(function(g){g.stopImmediatePropagation();var h=e.plot.getData();var f=c(this).parents(".legend").find(".legendColorBox").index(this);if(h[f].enabled){h[f].oldcolor=h[f].color;h[f].color="#C11B17";c(this).parent().addClass("legendHighlight");e.plot.draw()}},function(g){g.stopImmediatePropagation();var h=e.plot.getData();var f=c(this).parents(".legend").find(".legendColorBox").index(this);if(h[f].enabled){h[f].color=h[f].oldcolor;c(this).parent().removeClass("legendHighlight");e.plot.draw()}})};d.canvasEvents=function(e){c("#"+e.canvasid).off("plotclick").on("plotclick",function(g){g.stopImmediatePropagation();var f=e.plot.getOptions();if(f.magnify){e.magnify=!e.magnify;d.showChart(e)}});c("#"+e.canvasid).off("plothover").on("plothover",e.config.tooltip(),function(k,f,j){k.stopImmediatePropagation();MMONIT.chart.setTooltip(k,f,j);var i=c(this).parents(".chart");var l=c(i).data("dataset");var h=i.find(".canvas");if(l){if(!j){c(i).data("dataset",null);l.series.color=l.series.oldcolor;if(e.plot){e.plot.unhighlight();e.plot.setupGrid();e.plot.draw()}d.legendEvents(e);i.find(".legendRow:eq("+l.seriesIndex+")").removeClass("legendHighlight");h.removeClass("highlighted")}else{if(j!=l){c(i).data("dataset",j);l.series.color=l.series.oldcolor;j.series.oldcolor=j.series.color;j.series.color="#C11B17";if(e.plot){e.plot.setupGrid();e.plot.draw()}d.legendEvents(e);i.find(".legendRow:eq("+l.seriesIndex+")").removeClass("legendHighlight");i.find(".legendRow:eq("+j.seriesIndex+")").addClass("legendHighlight")}}}else{if(j){c(i).data("dataset",j);j.series.oldcolor=j.series.color;j.series.color="#C11B17";if(e.plot){e.plot.setupGrid();e.plot.draw()}d.legendEvents(e);i.find(".legendRow:eq("+j.seriesIndex+")").addClass("legendHighlight");h.addClass("highlighted")}}})};d.toggleSearch=function(j,l){l.stopPropagation();var h=l.currentTarget;if(c(h).data("visible")){c(h).data("visible",false).popover("hide").removeClass("active")}else{c(".filterseries").blur();c(".btn-search").each(function(e,i){if(c(this).data("visible")){c(this).trigger("vclick")}});c(l.currentTarget).addClass("active");c(h).data("visible",true).popover({html:true,placement:"left",content:"<input class='filterseries' placeholder='filter...' type='search' autocomplete='off' />"}).popover("show");var f=j.plot.getOptions();var k=[];for(var g=0;g<j.data.length;g++){k.push(f.legend.labelFormatter?f.legend.labelFormatter(j.data[g].label,j.data[g]):j.data[g].label)}c(h).next().find(".filterseries").typeahead({source:k,items:100});c(h).next().find(".filterseries").on("change input paste search",j,function(i){clearTimeout(c(h).data("timeout"));c(h).data("timeout",setTimeout(function(){var m=i.data;var n=i.currentTarget.value.toLowerCase();var e=m.plot.getOptions();if(n){c.each(m.data,function(q,o){var p=e&&e.legend&&e.legend.labelFormatter?e.legend.labelFormatter(o.label,o):o.label;o.enabled=(p.toLowerCase().indexOf(n)>=0)?true:false})}else{c.each(m.data,function(p,o){o.enabled=true})}c(h).data("query",i.currentTarget.value);d.showChart(m);d.showLegend(m)},300))}).on("keyup",j,function(i){if(i.which==13){c(h).data("visible",false).popover("hide").removeClass("active")}}).val(c(h).data("query")).focus()}};d.toggleTrend=function(f,g){g.stopPropagation();f.showTrend(!f.showTrend());d.showChart(f);d.showLegend(f)};d.toggleLegend=function(f,g){g.stopPropagation();c("#tooltip").tooltip("destroy");f.showLegend(!f.showLegend());d.showLegend(f)};d.showLegend=function(i){if(i.showLegend()){var h=c("#"+i.legendid);h.empty();var j=i.plot.getData();var g=i.plot.getOptions();var f=i.config.tooltip();var e=[];e.push('<table class="legendTable"><tbody><tr class="legendHeader"><td></td><td class="legendLabel"></td>');if(d.filter.range=="1"){e.push("<td>Value</td>")}else{e.push('<td class="legendMin">Min</td><td class="legendAvg">Avg</td><td class="legendMax">Max</td><td>Change</td>')}e.push("</tr>");c.each(j,function(l,s){e.push('<tr class="legendRow'+(s.enabled?"":" legendDisabled")+'"><td class="legendColorBox"><div style="border-color:'+s.color+'"></div></td><td class="legendLabel">'+(g.legend.labelFormatter?g.legend.labelFormatter(s.label,s):s.label)+"</span>");var t=f.suffix?f.suffix:"";if(d.filter.range=="1"){var r=s.data[0][0]!==null?s.data[0][0]:0;if(r<0){r='<div class="legendError">N/A</div>'}else{if(i==d.memoryproctotal){r=MMONIT.ui.hfbyte(r*1024,2,1024)}else{if(i==d.netbytesin||i==d.netbytesout||i==d.filesystemreadbytes||i==d.filesystemwritebytes||i==d.processreadbytes||i==d.processwritebytes){r=MMONIT.ui.hfbyte(r,1,1024)+"/s"}else{if(i==d.port){r=MMONIT.ui.hftime(r*1000,1)}else{if(i==d.ping){r=MMONIT.ui.hftime(r*1000,3)}else{if(i==d.filesystemservicetime){r=MMONIT.ui.hftime(r,3)}else{r=MMONIT.math.round(r,2)+t}}}}}}e.push('<td class="legendValue">'+r+"</td>")}else{var p,k,n,q;if(s.trend){var m=Trend.auto(g,s);p=m.series.data[m.series.data.length-1][1]-m.series.data[0][1];k=m.min;n=m.avg;q=m.max}else{p=s.data[s.data.length-1][1]-s.data[0][1];k=s.min;n=s.avg;q=s.max}var o=p;if(i==d.memoryproctotal){k=MMONIT.ui.hfbyte(k*1024,2,1024);n=MMONIT.ui.hfbyte(n*1024,2,1024);q=MMONIT.ui.hfbyte(q*1024,2,1024);o=MMONIT.ui.hfbyte(p*1024,2,1024)}else{if(i==d.netbytesin||i==d.netbytesout||i==d.filesystemreadbytes||i==d.filesystemwritebytes||i==d.processreadbytes||i==d.processwritebytes){k=MMONIT.ui.hfbyte(k,1,1024)+"/s";n=MMONIT.ui.hfbyte(n,1,1024)+"/s";q=MMONIT.ui.hfbyte(q,1,1024)+"/s";o=MMONIT.ui.hfbyte(p,1,1024)+"/s"}else{if(i==d.port){r=MMONIT.ui.hftime(r*1000,1);k=MMONIT.ui.hftime(k*1000,1);n=MMONIT.ui.hftime(n*1000,1);q=MMONIT.ui.hftime(q*1000,1);o=MMONIT.ui.hftime(p*1000,1)}else{if(i==d.ping){r=MMONIT.ui.hftime(r*1000,3);k=MMONIT.ui.hftime(k*1000,3);n=MMONIT.ui.hftime(n*1000,3);q=MMONIT.ui.hftime(q*1000,3);o=MMONIT.ui.hftime(p*1000,3)}else{if(i==d.filesystemservicetime){r=MMONIT.ui.hftime(r,3);k=MMONIT.ui.hftime(k,3);n=MMONIT.ui.hftime(n,3);q=MMONIT.ui.hftime(q,3);o=MMONIT.ui.hftime(p,3)}else{r=MMONIT.math.round(r,f.round)+t;k=MMONIT.math.round(k,f.round)+t;n=MMONIT.math.round(n,f.round)+t;q=MMONIT.math.round(q,f.round)+t;o=MMONIT.math.round(p,f.round)+t}}}}}e.push('<td class="legendMin">'+k+'</td><td class="legendAvg">'+n+'</td><td class="legendMax">'+q+'</td><td class="legendChange'+(p>0?" changePositive":(p<0?" changeNegative":""))+'">'+(p>0?"+":"")+o+"</td>")}e.push("</tr>")});e.push("</tbody></table>");h.html(e.join(""));d.legendEvents(i)}};d.show=function(g,f,h){d.showChart(f)};d.showChart=function(l){var h=l.config.graph();if(d.hasData(l.data)){l.show(true);var g=c("#"+l.canvasid);var e=g.parents(".chart");var k=e.find(".btn-search");var f=e.find(".btn-trend");if(h.series.lines&&h.series.lines.show){l.showTrendButton(true);if(l.showTrend()){h.xaxis.max=d.date.to+d.date.to-d.date.from;for(var j=0;j<l.data.length;j++){var m=l.data[j];if(!m.hastrend&&!m.trend){m.hastrend=true;var f=Trend.auto(h,m);if(f){l.data.push(f.series)}}}}else{h.xaxis.max=d.date.to;for(var j=l.data.length-1;j>=0;j--){if(l.data[j].trend){l.data.splice(j,1)}else{l.data[j].hastrend=false}}}}if((d.hosts.length>1||(l!=d.cpu&&l!=d.memory&&l!=d.swap))&&l.data.length>1){l.showSearchButton(true)}if(!(d.filter.range=="1"&&d.hosts.length==1&&(l==d.cpu||l==d.memory||l==d.swap))){l.showLegendButton(true)}d.transform(l,h);d.updateAxes(l,h);g.css("height",h.height()+"px");if(h.magnify){if(l.magnify){g.removeClass("zoom in").addClass("zoom out")}else{g.removeClass("zoom out").addClass("zoom in")}}else{g.removeClass("zoom in").removeClass("zoom out")}e.removeClass("span4 span12").addClass(h.series.pie&&h.series.pie.show?"span4":"span12");e.css("display","inline");l.plot=c.plot(g,l.data,h);e.data("chart",l);d.canvasEvents(l);d.legendEvents(l);return true}return false};d.merge=function(j,i){if(j&&j.data.length){var h=0,g=1;for(var f=0,e=0;f<j.data.length;f++){if(e<i.data.length){if(j.data[f][h]===i.data[e][h]){if(i.data[e][g]===null){i.data[e][g]=j.data[f][g]}else{if(j.data[f][g]!==null){i.data[e][g]+=j.data[f][g]}}e++}else{if(j.data[f][h]<i.data[e][h]){i.data.splice(e>0?e-1:0,0,[j.data[f][h],j.data[f][g]])}else{i.data.splice(e++,0,[j.data[f][h],j.data[f][g]])}}}else{i.data.push([j.data[f][h],j.data[f][g]]);e++}}}};d.hideCharts=function(){c(".btn-search").each(function(e,f){if(c(this).data("visible")){c(this).data("query","").trigger("vclick")}});c(".filterseries").val("").blur();c.each(d.charts(),function(f,e){d.reset(e)});d.hosts=[];d.info("")};d.loadCharts=function(){d.info("<img src='../../img/spinner.gif'>");c.ajax({url:"../../reports/analytics/get",data:d.filter,type:"POST",dataType:"json",traditional:true,timeout:30000,error:function(e,g,f){d.info("");MMONIT.error.json(e,g,f)},success:function(e){try{var r=e.records.hosts,g=0;d.hostsCount=r.length;d.date.from=parseInt(e.records.from);d.date.to=parseInt(e.records.to);d.date.step=parseInt(e.records.step);for(var H=0;H<r.length;H++){var x=r[H];if(x.services.length>0){d.hosts.push({id:x.id,name:x.name,cpu:x.cpu,memory:x.memory,swap:x.swap});var f=null,z=null,C=null,m=[],t=[],p=[],K=[];for(var G=0;G<x.services.length;G++){var N=x.services[G],F=N.statistics;for(var E=0;E<F.length;E++){var u=F[E];u.label=c("<div/>").text((r.length>1&&u.type!=0&&u.type!=4&&u.type!=6?"["+x.name+"] ":"")+N.name+": "+u.label).html();switch(u.type){case 0:d.loadaverage.data.push(u);break;case 1:f=u;break;case 2:z=u;break;case 3:C=u;break;case 4:d.memory.data.push(u);break;case 6:d.swap.data.push(u);break;case 9:d.cpuproctotal.data.push(u);break;case 13:d.memoryproctotal.data.push(u);break;case 14:d.children.data.push(u);break;case 15:case 16:d.port.data.push(u);break;case 17:d.ping.data.push(u);break;case 18:d.space.data.push(u);break;case 21:d.inode.data.push(u);break;case 39:m.push(u);break;case 41:t.push(u);break;case 45:p.push(u);break;case 47:K.push(u);break;case 51:break;case 52:d.threads.data.push(u);break;case 54:d.filesystemreadbytes.data.push(u);break;case 56:d.filesystemreadoperations.data.push(u);break;case 58:d.filesystemwritebytes.data.push(u);break;case 60:d.filesystemwriteoperations.data.push(u);break;case 66:d.filesystemservicetime.data.push(u);break;case 67:d.processreadbytes.data.push(u);break;case 69:d.processreadoperations.data.push(u);break;case 71:d.processwritebytes.data.push(u);break;case 73:d.processwriteoperations.data.push(u);break;default:break}}}if(r.length==1){var w=0;if(f&&f.data[0][1]!==null){d.cpu.data.push(f);w+=f.data[0][1]}if(z&&z.data[0][1]!==null){d.cpu.data.push(z);w+=z.data[0][1]}if(C&&C.data[0][1]!==null){d.cpu.data.push(C);w+=C.data[0][1]}if(d.filter.range=="1"){if(d.cpu.data.length){d.cpu.data.push({label:c("<div/>").text(x.name).html()+": cpu usage idle [%]",data:[[0,1*(100-w)]]});d.cpu.slices=((f&&f.data[0][1]===100)||(z&&z.data[0][1]===100)||(C&&C.data[0][1]===100)||w===0)?1:3}if(d.memory.data.length&&d.memory.data[0].data[0][1]!==null){var J=d.memory.data[0].data[0][1];var v=100-J;d.memory.data[0].label+="\n"+MMONIT.ui.hfbyte(x.memory/100*J*1024,2,1024);d.memory.data.push({label:c("<div/>").text(x.name).html()+": memory free [%]\n"+MMONIT.ui.hfbyte(x.memory/100*v*1024,2,1024),data:[[0,v]]});d.memory.slices=(J==100||v==100)?1:2}if(d.swap.data.length&&d.swap.data[0].data[0][1]!==null){var J=d.swap.data[0].data[0][1];var v=100-J;d.swap.data[0].label+="\n"+MMONIT.ui.hfbyte(x.swap/100*J*1024,2,1024);d.swap.data.push({label:c("<div/>").text(x.name).html()+": swap free [%]\n"+MMONIT.ui.hfbyte(x.swap/100*v*1024,2,1024),data:[[0,v]]});d.swap.slices=(J==100||v==100)?1:2}}ko.utils.arrayPushAll(d.netbytesin.data,m);ko.utils.arrayPushAll(d.netbytesout.data,p);ko.utils.arrayPushAll(d.netpacketsin.data,t);ko.utils.arrayPushAll(d.netpacketsout.data,K)}else{var w={label:c("<div/>").text(x.name).html()+": total cpu usage",data:[]};d.merge(f,w);d.merge(z,w);d.merge(C,w);if(w.data.length){for(var D=0;D<w.data.length;D++){if(w.data[D][1]){w.data[D][1]=MMONIT.math.round(w.data[D][1],2)}}d.cpu.data.push(w)}var s={label:c("<div/>").text(x.name).html()+": total network bytes in",data:[]};if(m){var M={};for(var D=0;D<m.length;D++){for(var B=0;B<m[D].data.length;B++){var q=m[D].data[B][0];var A=m[D].data[B][1];if(M[q]){M[q]+=A}else{M[q]=A}}}for(var L in M){s.data.push([L,M[L]])}}if(s.data.length){d.netbytesin.data.push(s)}var I={label:c("<div/>").text(x.name).html()+": total network bytes out",data:[]};if(p){var M={};for(var D=0;D<p.length;D++){for(var B=0;B<p[D].data.length;B++){var q=p[D].data[B][0];var A=p[D].data[B][1];if(M[q]){M[q]+=A}else{M[q]=A}}}for(var L in M){I.data.push([L,M[L]])}}if(I.data.length){d.netbytesout.data.push(I)}var o={label:c("<div/>").text(x.name).html()+": total network packets in",data:[]};if(t){var M={};for(var D=0;D<t.length;D++){for(var B=0;B<t[D].data.length;B++){var q=t[D].data[B][0];var A=t[D].data[B][1];if(M[q]){M[q]+=A}else{M[q]=A}}}for(var L in M){o.data.push([L,M[L]])}}if(o.data.length){d.netpacketsin.data.push(o)}var y={label:c("<div/>").text(x.name).html()+": total network packets out",data:[]};if(K){var M={};for(var D=0;D<K.length;D++){for(var B=0;B<K[D].data.length;B++){var q=K[D].data[B][0];var A=K[D].data[B][1];if(M[q]){M[q]+=A}else{M[q]=A}}}for(var L in M){y.data.push([L,M[L]])}}if(y.data.length){d.netpacketsout.data.push(y)}}}}c.each(d.charts(),function(j,h){if(d.showChart(h)){g++}});d.info(g?"":"<h3>Not enough data to create a chart</h3>")}catch(n){d.info("");MMONIT.error.show(n.message)}}})}};ko.applyBindings(b);(function a(){var d=c("#main").outerWidth();if(b.width()!=d){b.width(d);c(".callout").hide();c(".canvas.highlighted").trigger("plothover")}c(window).off("resize orientationchange").on("resize orientationchange",a)})();c(document).on("vclick",function(f){var d=c(f.target);if(!d.parents().is(".callout")){c(".callout").hide()}if(!d.parents(".popover").length){c(".btn-search").each(function(e,g){if(c(this).data("visible")){c(this).trigger("vclick")}})}c(".canvas.highlighted").trigger("plothover")});c(".btn-legend").tooltip()})(jQuery);